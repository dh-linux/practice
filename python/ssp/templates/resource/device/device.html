<!DOCTYPE html>
{%extends 'base.html'%}
{%block content_row%}
<div class="container">
  <div class="row">
     <div class="col-xs-12">
        <div class="table-responsive">
          <div role="grid" class="dataTables_wrapper" id="sample-table-2_wrapper">

            <div class="row">
              <div class="col-sm-6">
                <div id="sample-table-2_length" class="dataTables_length">
                  <label>Display <select name="sample-table-2_length" size="1" aria-controls="sample-table-2">
                    <option value="10" selected="selected">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                  </select> records</label>
                </div>
              </div>
              <div class="col-sm-6">
                <form class="input-group" method="post" action="/resource/device/search/">
                  <input type="text" name="search" id="search" placeholder="hostname/address" class="form-control search-query">
                    <span class="input-group-btn">
                      <button class="btn btn-purple btn-sm" type="submit">
                        Search
                        <i class="icon-search icon-on-right bigger-110"></i>
                      </button>
                    </span>
                </form>
              </div>
            </div>                  

            <table class="table table-striped table-bordered table-hover dataTable" id="sample-table-2" aria-describedby="sample-table-2_info">
              <thead>
                <tr role="row">
                  <th class="sorting" role="columnheader" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1" aria-label="Domain: activate to sort column ascending"><div></div><a href='/'>主机名</a></div></th>
                  <th class="sorting_disabled">内网IP</th>
                  <th class="sorting_disabled">外网IP</th>
                  <th class="sorting" role="columnheader" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1" aria-label="Update: activate to sort column ascending">业务线</th>
                  <th class="sorting_disabled">用途</th>
                  <th class="sorting_disabled">CPU核数</th>
                  <th class="sorting_disabled">内存</th>
                  <th class="sorting_disabled">硬盘</th>
                  <th class="sorting_disabled">机房</th>
                  <th class="sorting_disabled">状态</th>
                </tr>
              </thead>
             
              <tbody role="alert" aria-live="polite" aria-relevant="all">
                {% for device in page_device %}
                <tr class="odd">
                    <td class="left">{{device.hostname}}</td>
                    <td class="left">{{device.i_ip}}</td>
                    <td class="left">{{device.o_ip}}</td>
                    <td class="left">{{device.app}}</td>
                    <td class="left">{{device.role}}</td>
                    <td class="left">{{device.cpu_num}}</td>
                    <td class="left">{{device.mem_size}}</td>
                    <td class="left">{{device.disk_size}}</td>
                    <td class="left">{{device.m_room}}</td>
                    <td class="left">
                      {% if device.status == 'n' %}
                      <span class="label label-failed">Inactive</span>
                      {% else %}
                      <span class="label label-success">Active</span>
                      {% endif %}
                    </td>                                       
                </tr>
                {% endfor %}
              </tbody>
            </table>
            <div class="row">
              <div class="col-sm-6">
                <div class="dataTables_info" id="sample-table-2_info">Showing 1 to 10 of {{device_count}} entries</div>
              </div>
              <div class="col-sm-6">
                <div class="dataTables_paginate paging_bootstrap">
                  <ul class="pagination">
                    <li class="prev disabled">
                      <a href="#"><i class="icon-double-angle-left"></i></a>
                    </li>
                    {% for i in page_count %}
                        {% if page == i %}
                        <li class="active"><a href="/resource/device/web/dpool/?page={{i}}">{{i}}</a></li>
                        {% else %}
                        <li><a href="/resource/device/web/dpool/?page={{i}}">{{i}}</a></li>
                        {% endif %}
                    {% endfor %}
                    <li class="next">
                      <a href="#"><i class="icon-double-angle-right"></i></a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
  </div><!--/row-->
</div><!--/contariner-->

{%endblock%}
